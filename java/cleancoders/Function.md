# Function

### 원칙

- 한가지 일만 해야 한다.
- 함수의 크기
    - 4줄짜리 함수여야 한다.
- indentation, while, nested, if등은 없어야 한다.(들여쓰기, 반복, 중첩, 조건문)
- 잘지어진 서술적인 긴 이름을 갖는 많은/작은 함수들로 유지해야 한다.
    
    

### The First Rule of Functions  (제 1함수의 법칙)

- 더 이상 작아질 수 없을 만큼 작어야 한다.
- 큰 함수를 보면 클래스로 추출할 생각을 해야함
- 클래스는 일련의변수들에 동작하는 기능의 집합

### 개선

- 읽기 쉬워지고
- 이해하기 쉬워지고
- 함수가 자신의 의도를 잘 전달한다.

### 개선의 원인

- 함수의 첫번재 규칙, 함수는 작아질 수 있는한 최대한 작아야 한다.
- 블록이 적어야 한다. if, else, while 문장등의 내부 블록은 한줄이어야 한다.
- indenting이 적어야 한다.
    - 함수는 중접 구조를 갖을 만큼 크면 안된다.’
    - 들여쓰기는 한두단게 정도만
    

### functions should do one thing (함수는 한가지만 해야한다.)

리팩토링 전에 함수가 하는 일

- buffers 생성,

리팩토링 이후에 함수는 한가지 단순한 일만 하도록

- 함수가 수행하는 모든 일의 추상화 수준이 같다.
    - 함수의 각 스템들은 함수 이름보다 한수준 낮은 추상화 수준을 갖는다.
- 함수의 각 스텝들이 함수 이름이 갖는 추상화 수준보다 한단계 낮은 것으로만 이뤄졌다면 함수는 한가지 일만 하는것이다.

한가지 일만 하도록 하는것

- 원래 코드는 추상화 수준이 다른 많은 단계들을 포함하므로 한가지 이상의 일을 한다는 것이 명확해진다.
- 의미있게 최종적으로 줄이는 것은 어렵다.
    - 추상화 수준의 변경 없이 코드를 단순히 재 인용하게 된다.
- 함수가 하나 이상의 일을 한다고 말할 수 있는경우
    - 단순한 구현의 재인영이 아닌 이름으로 함수를 추출할 수 있을 대

Reading code from top to bottom

- 함수를 구성하는 원칙 코드를 top-down 이야기체로 읽을 수 있도록 한다.
- 현재 함수 바로 밑에 현재 함수 다음의 추상화 수준을 갖는 함수들을 배치시킨다.